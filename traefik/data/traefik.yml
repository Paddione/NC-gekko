log:
  level: DEBUG

api:
  dashboard: true
  insecure: false

entryPoints:
  websecure:
    address: ":443"
  web:
      address: ":80"
  traefik:
      address: ":8080"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false
    network: traefik_net
  file:
    filename: "/etc/traefik/certificates.yml"

http:
  routers:
    traefik:
      rule: "Host(`traefik.yourdomain.com`) && (PathPrefix(`/api`) || PathPrefix(`/dashboard`))"
      service: "api@internal"
      entryPoints:
        - traefik  # Use the new entrypoint
      middlewares:
        - auth  # If you're using authentication

  middlewares:
    auth:
      basicAuth:
        users:
          - "admin:$apr1$ruca84Hq$mbjdMZBAG.KWn7vfN/SNK/"
